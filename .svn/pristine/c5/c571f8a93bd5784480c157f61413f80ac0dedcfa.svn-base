import React from 'react';
import { NavLink } from 'react-router-dom';
import '../assets/css/admin/components/sidebar.css';

const Sidebar = () => {
    // NavLink의 className을 동적으로 설정하는 함수
    const getLinkClass = ({ isActive }) => isActive ? "nav-link active" : "nav-link";

    return (
        <nav className="sidebar shadow-lg">
            <div className="sidebar-main-scroll" id="sidebarAccordion">

                {/* 1. 회원 관리 그룹 */}
                <button className="sidebar-group-btn collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#menu-user" aria-expanded="false">
                    <span>회원 관리</span><i className="bi bi-chevron-down toggle-icon"></i>
                </button>
                <div className="collapse" id="menu-user" data-bs-parent="#sidebarAccordion">
                     <ul className="nav flex-column collapse-inner">
                        <li className="nav-item">
                            <NavLink to="/admin/user/list" className={getLinkClass}>
                                전체 조회
                            </NavLink>
                        </li>
                    </ul>
                </div>

                {/* 2. 고객센터 그룹 */}
                <button className="sidebar-group-btn collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#menu-board" aria-expanded="false">
                    {/* ★ 수정됨: class -> className */}
                    <span>고객센터</span><i className="bi bi-chevron-down toggle-icon"></i>
                </button>
                <div className="collapse" id="menu-board" data-bs-parent="#sidebarAccordion">
                    <ul className="nav flex-column collapse-inner">
                        <li className="nav-item">
                            <NavLink to="/admin/board/notice" className={getLinkClass}>
                                <i className="bi bi-megaphone me-2"></i> 공지사항
                            </NavLink>
                        </li>
                        <li className="nav-item">
                            <NavLink to="/admin/board/inquiry" className={getLinkClass}>
                                <i className="bi bi-question-circle me-2"></i> 문의사항
                            </NavLink>
                        </li>
                        <li className="nav-item">
                            <NavLink to="/admin/board/faq" className={getLinkClass}>
                                <i className="bi bi-question-square-fill me-2"></i> FAQ 관리
                            </NavLink>
                        </li>
                    </ul>
                </div>
                
                {/* 3. 설문 관리 그룹 */}
                <button className="sidebar-group-btn collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#menu-survey" aria-expanded="false">
                    {/* ★ 수정됨: class -> className */}
                    <span>설문 관리</span><i className="bi bi-chevron-down toggle-icon"></i>
                </button>
                <div className="collapse" id="menu-survey" data-bs-parent="#sidebarAccordion">
                    <ul className="nav flex-column collapse-inner">
                        <li className="nav-item">
                            <NavLink to="/admin/survey/list" className={getLinkClass}>
                                <i className="bi bi-clipboard-data me-2"></i> 설문 목록
                            </NavLink>
                        </li>
                        <li className="nav-item">
                            <NavLink to="/admin/survey/form" className={getLinkClass}>
                                <i className="bi bi-pencil-square me-2"></i> 설문 등록
                            </NavLink>
                        </li>
                    </ul>
                </div>

                {/* 4. 정책 관리 그룹 */}
                <button className="sidebar-group-btn collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#menu-policy" aria-expanded="false">
                    {/* ★ 수정됨: class -> className */}
                    <span>정책 관리</span><i className="bi bi-chevron-down toggle-icon"></i>
                </button>
                <div className="collapse" id="menu-policy" data-bs-parent="#sidebarAccordion">
                    <ul className="nav flex-column collapse-inner">
                        <li className="nav-item">
                            <NavLink to="/admin/policy/terms" className={getLinkClass}>
                                <i className="bi bi-file-earmark-text me-2"></i> 이용약관 관리
                            </NavLink>
                        </li>
                    </ul>
                </div>

                {/* 5. 로그 관리 그룹 */}
                <button className="sidebar-group-btn collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#menu-log" aria-expanded="false">
                    {/* ★ 수정됨: class -> className */}
                    <span>로그 관리</span><i className="bi bi-chevron-down toggle-icon"></i>
                </button>
                <div className="collapse" id="menu-log" data-bs-parent="#sidebarAccordion">
                    <ul className="nav flex-column collapse-inner">
                        <li className="nav-item">
                            <NavLink to="/admin/log/login" className={getLinkClass}>
                                <i className="bi bi-box-arrow-in-right me-2"></i> 로그인 로그
                            </NavLink>
                        </li>
                        <li className="nav-item">
                            <NavLink to="/admin/log/error" className={getLinkClass}>
                                <i className="bi bi-exclamation-triangle me-2"></i> 오류 로그
                            </NavLink>
                        </li>
                    </ul>
                </div>

            </div>
        </nav>
    );
};

export default Sidebar;